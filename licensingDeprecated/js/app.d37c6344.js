(function(e){function t(t){for(var r,a,s=t[0],u=t[1],l=t[2],d=0,f=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);c&&c(t);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==o[u]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"08ff":function(e,t,n){},"0fc5":function(e,t,n){},1072:function(e,t,n){"use strict";n("cadf")},"1a8e":function(e,t,n){},"1c05":function(e,t,n){"use strict";n("0fc5")},"3db4":function(e,t,n){},"5d9c":function(e,t,n){e.exports=n.p+"img/Tissue.8c05dac2.png"},"78c9":function(e,t,n){e.exports=n.p+"img/el_logo_gray.8b6e3a91.png"},"9c9e":function(e,t,n){},a274:function(e,t,n){},cadf:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r,o=n("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[e.GetLoginLoading()&&!e.GetCurrentUser()?r("main",{staticClass:"flex flex-col h-screen w-screen"},[r("h1",{staticClass:"font-title text-gray-medium text-xl flex m-auto"},[e._v("Almost there...")])]):e._e(),e.GetCurrentUser()?r("main",{staticClass:"flex flex-col h-screen w-screen"},[e.GetCurrentHelixSubscriptionStatus&&"expired"!==e.GetCurrentHelixSubscriptionStatus.Status?r("div",{staticClass:"relative flex h-screen w-screen"},[r("tool-panel",{attrs:{subscriptionStatus:e.GetCurrentHelixSubscriptionStatus}})],1):r("div",{staticClass:"relative flex h-screen w-screen"},[r("article",{staticClass:"m-auto flex flex-col"},[r("h1",{staticClass:"mx-auto font-title text-xl flex text-gray-dark"},[e._v("We regret to inform you that")]),r("h1",{staticClass:"mx-auto font-title text-xl flex text-gray-dark"},[e._v("Your Trial Has Expired.")]),r("img",{staticClass:"w-64 flex",attrs:{src:n("5d9c"),alt:"sad tp roll, credit: https://www.pixeltrue.com/free-packs/error-state"}}),r("div",{staticClass:"mx-auto flex flex-col space-y-2"},[r("button",{staticClass:"mx-auto flex p-3 bg-white border border-solid border-gray-extralight shadow-lg rounded-md"},[r("a",{attrs:{href:"https://www.evolvelab.io/solutions",target:"_blank"}},[e._v("Learn More")])]),r("button",{staticClass:"mx-auto flex p-3 bg-white border border-solid border-gray-extralight shadow-lg rounded-md"},[r("a",{on:{click:e.logout}},[e._v("Logout")])])])])])]):r("main",{staticClass:"align-center justify-center"},[r("firebase")],1)])},a=[],s=n("5530"),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"toolpanel-width flex flex-col flex-grow-0 flex-shrink-0 h-full z-10 shadow-lg bg-gray-extralight"},["trialing"===e.GetCurrentHelixSubscriptionStatus.Status?r("header",{staticClass:"flex w-full bg-gray-dark shadow-md"},[r("article",{staticClass:"flex w-full h-6 relative justify-center"},[e._m(0),r("div",{staticClass:"flex h-full absolute top-0 right-2"},[r("h5",{staticClass:"my-auto whitespace-nowrap text-white font-light text-xs cursor-default"},[e._v(" Expires "+e._s(e.GetCurrentHelixSubscriptionStatus.TrialEndDate)+" ")])])])]):e._e(),r("div",{staticClass:"flex w-full h-full overflow-hidden object-contain"},[r("nav",{staticClass:"w-flex pt-3 pb-5 mr-1 h-full flex flex-col justify-between"},[r("section",{staticClass:"flex flex-row"},[r("navigation-button",{attrs:{height:32,width:32}},[r("img",{staticClass:"flex mx-auto w-6",attrs:{src:n("78c9"),alt:"evolvelab logo"},on:{click:function(t){return e.openUrl("https://www.evolvelab.io")}}})]),r("navigation-button",{attrs:{height:32,width:32}},[r("img",{staticClass:"flex mx-auto w-5",attrs:{src:n("ceab"),alt:"discourse forum logo"},on:{click:function(t){return e.openUrl("https://forum.evolvelab.io/tags/c/general/1/license-portal")}}})]),r("navigation-button",{attrs:{height:32,width:32}},[r("span",{staticClass:"m-auto material-icons-outlined text-2xl pointer",on:{click:function(t){e.confirmLogout=!0}}},[e._v(" logout ")])])],1)])]),e.confirmLogout?r("div",{staticClass:"fixed top-0 left-0 right-0 bottom-0 bg-gray-medium bg-opacity-60 z-40",on:{click:function(t){e.confirmLogout=!1}}}):e._e(),e.confirmLogout?r("article",{staticClass:"fixed confirm-position flex-col space-y-3 h-40 w-80 p-7 bg-gray-medium rounded-lg border border-solid border-gray-light z-50 shadow-md"},[r("p",{staticClass:"text-center"},[e._v("Are you sure you want to logout from "),r("span",{staticClass:"underline"},[e._v(e._s(e.GetCurrentUser.Email))]),e._v("?")]),r("div",{staticClass:"flex justify-center space-x-6"},[r("v-btn",{attrs:{color:"var(--color-evolvelab)"},on:{click:e.logout}},[e._v("Yes")]),r("v-btn",{attrs:{color:"var(--color-gray-dark)",outlined:""},on:{click:function(t){e.confirmLogout=!1}}},[e._v("No")])],1)]):e._e()])},l=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex h-full"},[n("h3",{staticClass:"my-auto whitespace-nowrap text-white font-medium text-sm cursor-default"},[e._v("TRIAL VERSION")])])}],c=n("1da1"),d=(n("96cf"),n("2f62"));(function(e){e["HelixMappingTools"]="HelixMappingTools",e["HelixModelingTools"]="HelixModelingTools",e["HelixMaterialMappingTools"]="HelixMaterialMappingTools",e["HelixWarnings"]="HelixWarnings",e["HelixSettings"]="HelixSettings",e["ObjectProperties"]="ObjectProperties",e["AppSettings"]="AppSettings",e["DeveloperToolPanel"]="DeveloperToolPanel"})(r||(r={}));var f=n("d4ec"),p=n("bee2"),g=(n("d3b7"),n("bc3a")),h=n.n(g),b=function(){function e(){Object(f["a"])(this,e)}return Object(p["a"])(e,null,[{key:"PostUserLogin",value:function(e){var t=this;return new Promise((function(n){h.a.post("".concat(t.BaseURI,"/users/login"),e).then((function(e){n(e.data)}))}))}},{key:"GetCheckoutUrl",value:function(){var e=this;return new Promise((function(t){h.a.get("".concat(e.BaseURI,"/users/checkout")).then((function(e){t(e.data)}))}))}}]),e}();b.BaseURI="http://localhost:5000";var v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"flex w-full relative z-10",class:{"text-black bg-gray-medium":e.isSelected,"text-gray-dark":!e.isSelected},style:e.sizeStyle,on:{mouseover:function(t){e.isHovered=!0},mouseleave:function(t){e.isHovered=!1}}},[n("div",{staticClass:"flex h-full w-full items-center z-20"},[e._t("default")],2),e.showBadge?n("div",{staticClass:"absolute top-1 right-1 rounded-full h-2 w-2 z-50",style:{background:e.badgeColor}}):e._e(),n("transition",{attrs:{name:"ripple"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.isSelected,expression:"isSelected === true"}],staticClass:"bg-evolvelab absolute w-1 h-full top-0 left-0 z-10"})]),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.isHovered,expression:"isHovered === true"}],staticClass:"bg-gray-medium absolute w-full h-full top-0 left-0 pointer-events-none"})])],1)},x=[],m=(n("a9e3"),o["default"].extend({name:"BaseNavigationButton",props:{buttonLabel:{type:String,required:!1},isSelected:{type:Boolean,required:!1,default:!1},height:{type:Number,required:!1,default:24},width:{type:Number,required:!1,default:24},textColor:{type:String,required:!1,default:""},showBadge:{type:Boolean,required:!1,default:!1},badgeColor:{type:String,required:!1,default:"var(--color-orange-warning)"}},computed:{sizeStyle:function(){return{width:"".concat(this.width,"px"),height:"".concat(this.height,"px")}}},data:function(){return{isHovered:!1}}})),S=m,C=(n("e59f"),n("2877")),w=Object(C["a"])(S,v,x,!1,null,"1c1a100a",null),y=w.exports,O=o["default"].extend({name:"ToolPanel",components:{NavigationButton:y},data:function(){return{ToolPanelState:r,confirmLogout:!1}},computed:Object(s["a"])(Object(s["a"])({},Object(d["d"])(["CurrentToolPanelState","SketchupInstance","ImportStatus","SyncWarnings"])),Object(d["b"])(["GetCurrentHelixSubscriptionStatus","CurrentCompletedMapping","ViewerService","IsExporting","GetCurrentAuthProvider","GetCurrentUser"])),methods:Object(s["a"])(Object(s["a"])({},Object(d["c"])(["MutateToolPanelState","SetDefaultMapMethod","MutateIsExporting","SetCurrentAuthProvider","SetCurrentUser","SetCurrentHelixSubscriptionStatus"])),{},{buy:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.GetCheckoutUrl();case 2:t=e.sent,console.log(t),location.href=t;case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),changeToolPanelState:function(e){console.log("clicked on...",e),this.MutateToolPanelState(e)},openUrl:function(e){window.open(e,"_blank")},logout:function(){this.GetCurrentAuthProvider.signOut(),this.SetCurrentUser(null),this.SetCurrentAuthProvider(null),this.SetCurrentHelixSubscriptionStatus(null)}})}),j=O,_=(n("1072"),n("6544")),k=n.n(_),G=n("8336"),U=Object(C["a"])(j,u,l,!1,null,"4d197b38",null),H=U.exports;k()(U,{VBtn:G["a"]});var L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"firebase-ui-container"}})},P=[],T=(n("99af"),function(){function e(){Object(f["a"])(this,e)}return Object(p["a"])(e,null,[{key:"GetUserStatus",value:function(e,t,n){var r=this,o=sessionStorage.getItem("productId");return console.log("Product Key:",o),new Promise((function(i){h()({method:"get",url:"".concat(r.BaseURI,"/users/").concat(e,"/status/").concat(o),headers:{"Access-Token":t}}).then((function(e){i({Status:e.data.status,TrialEnd:e.data.trial_end,RenderCount:e.data.render_count})})).catch(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.error(t),e.next=3,n.signOut();case 3:location.reload();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}}]),e}());T.BaseURI="https://licensingservice.evolvelab.io";var I=n("260b"),E=n("ea7b"),A=(n("256a"),n("1862"),n("2398")),R=(n("c9b9"),o["default"].extend({name:"firebase",data:function(){return{showAlert:!1,alertText:"",ui:null,user:null,firebaseConfig:{apiKey:"AIzaSyCEOJdoj53z_tB48jnBiymY7kTlp8LTd8g",authDomain:"helix-333922.firebaseapp.com",projectId:"helix-333922",storageBucket:"helix-333922.appspot.com",messagingSenderId:"903731217666",appId:"1:903731217666:web:d173c709eeca7717bc2e1b",measurementId:"G-G2921Z96GY"}}},mounted:function(){var e=this;console.log("loading firebase.."),this.$nextTick(Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n={callbacks:{signInSuccessWithAuthResult:e.signInSuccessful},signInOptions:[{provider:E["a"].PROVIDER_ID,requireDisplayName:!1}]},!A["a"].AuthUI.getInstance()){t.next=5;break}return e.ui=A["a"].AuthUI.getInstance(),t.next=5,e.ui.delete();case 5:return r=Object(I["a"])(e.firebaseConfig),o=E["c"](r),e.SetCurrentAuthProvider(o),t.next=10,Object(E["d"])(o,E["b"]).then((function(){if(o.currentUser)return console.log("User already signed in.."),void e.signInSuccessful({user:o.currentUser},o);console.log("No user signed in, showing login.."),e.ui=new A["a"].AuthUI(o),e.ui.start("#firebase-ui-container",n)})).catch((function(e){var t=e.code,n=e.message;console.warn(t,n)}));case 10:case"end":return t.stop()}}),t)}))))},methods:Object(s["a"])(Object(s["a"])({},Object(d["c"])(["SetCurrentUser","SetCurrentHelixSubscriptionStatus","SetLoginLoading","SetCurrentAuthProvider"])),{},{signInSuccessful:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.SetLoginLoading(!0),console.log(t),this.user=t.user,this.user){e.next=5;break}return e.abrupt("return");case 5:return r={Email:this.user.email,Token:this.user.accessToken?this.user.accessToken:""},e.t0=this,e.next=9,T.GetUserStatus(r.Email,r.Token,n);case 9:e.t1=e.sent,e.t0.SetCurrentHelixSubscriptionStatus.call(e.t0,e.t1),this.SetCurrentUser(r),this.SetLoginLoading(!1);case 13:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()})})),M=R,B=(n("1c05"),Object(C["a"])(M,L,P,!1,null,null,null)),N=B.exports,D={Logout:"Logout",getEventName:function(e){var t;return null===(t=this[e])||void 0===t?void 0:t.toLowerCase()}},z=document.createElement("a");function V(e,t){var n=D.getEventName(e);void 0!==n&&z.addEventListener(n,t)}function $(e,t){var n=D.getEventName(e);void 0!==n&&z.removeEventListener(n,t)}function q(e){var t,n,r=e.action,o=e.payload;r&&(null===(t=window.chrome)||void 0===t||null===(n=t.webview)||void 0===n||n.postMessage({action:r,payload:o}))}window.dispatchWebViewEvent=function(e){var t=e.action,n=e.payload;console.log("dispatch requested ".concat(t));var r=D.getEventName(t);void 0!==r&&(console.log("dispatching event ".concat(r)),console.log("event payload : ".concat(n)),z.dispatchEvent(new CustomEvent(r,{detail:n})))};var W=o["default"].extend({name:"licensingApp",components:{ToolPanel:H,Firebase:N},computed:Object(s["a"])({},Object(d["b"])(["Viewer3d","GetCurrentHelixSubscriptionStatus","GetIsImporting","GetImportPercentComplete"])),beforeCreate:function(){},created:function(){},mounted:function(){V(D.Logout,this.logout)},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(d["b"])(["GetCurrentUser","GetLoginLoading","GetCurrentAuthProvider"])),Object(d["c"])([])),{},{loginCSharp:function(){this.GetCurrentHelixSubscriptionStatus&&"active"===this.GetCurrentHelixSubscriptionStatus.Status?q({action:"login-success-activated",payload:{User:this.GetCurrentUser(),RenderCount:this.GetCurrentHelixSubscriptionStatus.RenderCount}}):this.GetCurrentHelixSubscriptionStatus&&"trialing"===this.GetCurrentHelixSubscriptionStatus.Status?q({action:"login-success-trial",payload:{User:this.GetCurrentUser(),RenderCount:this.GetCurrentHelixSubscriptionStatus.RenderCount}}):this.GetCurrentHelixSubscriptionStatus&&"expired"===this.GetCurrentHelixSubscriptionStatus.Status&&q({action:"login-success-fail",payload:{User:this.GetCurrentUser(),RenderCount:this.GetCurrentHelixSubscriptionStatus.RenderCount}})},logout:function(){this.GetCurrentAuthProvider().signOut(),location.reload()}}),beforeUpdate:function(){this.loginCSharp()},beforeDestroy:function(){$(D.Logout,this.logout)}}),Y=W,J=(n("ea7f"),n("7496")),F=Object(C["a"])(Y,i,a,!1,null,null,null),K=F.exports;k()(F,{VApp:J["a"]});var Z=n("ce5b"),Q=n.n(Z);o["default"].use(Q.a);var X=new Q.a({});o["default"].use(d["a"]);var ee=new d["a"].Store({state:{LoginLoading:!1,CurrentHelixSubscriptionStatus:null,CurrentUser:null,CurrentAuthProvider:null},getters:{GetCurrentUser:function(e){return e.CurrentUser},GetCurrentHelixSubscriptionStatus:function(e){return e.CurrentHelixSubscriptionStatus},GetLoginLoading:function(e){return e.LoginLoading},IsLoggedIn:function(e){return null!=e.CurrentUser&&""!==e.CurrentUser.Token},GetCurrentAuthProvider:function(e){return e.CurrentAuthProvider}},mutations:{SetCurrentAuthProvider:function(e,t){e.CurrentAuthProvider=t},SetLoginLoading:function(e,t){console.log("Vuex - setting login loading"),e.LoginLoading=t},SetCurrentUser:function(e,t){console.log("Vuex - setting current user"),e.CurrentUser=t},SetCurrentHelixSubscriptionStatus:function(e,t){if(console.log("Vuex - setting helix status",t),null!=t&&t.TrialEnd){var n=new Date(1e3*t.TrialEnd),r=n.getMonth()+1,o=n.getDate(),i=n.getFullYear();t.TrialEndDate="".concat(r,"/").concat(o,"/").concat(i)}e.CurrentHelixSubscriptionStatus=t}},actions:{},modules:{}}),te=n("ed09");n("7417"),n("08ff"),n("a274"),n("9c9e"),n("3db4");o["default"].config.productionTip=!1,o["default"].mixin({methods:{findMainVue:function(){var e=!1,t=this;while(!e)null!=t.$parent?t=t.$parent:e=!0;return t.$children[0]}}}),o["default"].use(te["a"]),new o["default"]({vuetify:X,store:ee,render:function(e){return e(K)}}).$mount("#licensingapp")},ceab:function(e,t,n){e.exports=n.p+"img/discourse-outline-filled-gray.1f3d9c3e.png"},e59f:function(e,t,n){"use strict";n("e5c1")},e5c1:function(e,t,n){},ea7f:function(e,t,n){"use strict";n("1a8e")}});
//# sourceMappingURL=app.d37c6344.js.map