(function(t){function e(e){for(var r,a,s=e[0],u=e[1],l=e[2],d=0,f=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);c&&c(e);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,s=1;s<n.length;s++){var u=n[s];0!==o[u]&&(r=!1)}r&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},o={app:0},i=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var c=u;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"08ff":function(t,e,n){},"0fc5":function(t,e,n){},1072:function(t,e,n){"use strict";n("cadf")},"1a8e":function(t,e,n){},"1c05":function(t,e,n){"use strict";n("0fc5")},"3db4":function(t,e,n){},"5d9c":function(t,e,n){t.exports=n.p+"img/Tissue.8c05dac2.png"},"78c9":function(t,e,n){t.exports=n.p+"img/el_logo_gray.8b6e3a91.png"},"9c9e":function(t,e,n){},a274:function(t,e,n){},cadf:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r,o=n("2b0e"),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[t.GetLoginLoading()&&!t.GetCurrentUser()?r("main",{staticClass:"flex flex-col h-screen w-screen"},[r("h1",{staticClass:"font-title text-gray-medium text-xl flex m-auto"},[t._v("Almost there...")])]):t._e(),t.GetCurrentUser()?r("main",{staticClass:"flex flex-col h-screen w-screen"},[t.GetCurrentHelixSubscriptionStatus&&"expired"!==t.GetCurrentHelixSubscriptionStatus.Status?r("div",{staticClass:"relative flex h-screen w-screen"},[r("tool-panel",{attrs:{subscriptionStatus:t.GetCurrentHelixSubscriptionStatus}})],1):r("div",{staticClass:"relative flex h-screen w-screen"},[r("article",{staticClass:"m-auto flex flex-col"},[r("h1",{staticClass:"mx-auto font-title text-xl flex text-gray-dark"},[t._v("We regret to inform you that")]),r("h1",{staticClass:"mx-auto font-title text-xl flex text-gray-dark"},[t._v("Your Trial Has Expired.")]),r("img",{staticClass:"w-64 flex",attrs:{src:n("5d9c"),alt:"sad tp roll, credit: https://www.pixeltrue.com/free-packs/error-state"}}),r("div",{staticClass:"mx-auto flex flex-col space-y-2"},[r("button",{staticClass:"mx-auto flex p-3 bg-white border border-solid border-gray-extralight shadow-lg rounded-md"},[r("a",{attrs:{href:"https://www.evolvelab.io/solutions",target:"_blank"}},[t._v("Learn More")])]),r("button",{staticClass:"mx-auto flex p-3 bg-white border border-solid border-gray-extralight shadow-lg rounded-md"},[r("a",{on:{click:t.logout}},[t._v("Logout")])])])])])]):r("main",{staticClass:"align-center justify-center"},[r("firebase")],1)])},a=[],s=n("5530"),u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"toolpanel-width flex flex-col flex-grow-0 flex-shrink-0 h-full z-10 shadow-lg bg-gray-extralight"},["trialing"===t.GetCurrentHelixSubscriptionStatus.Status?r("header",{staticClass:"flex w-full bg-gray-dark shadow-md"},[r("article",{staticClass:"flex w-full h-6 relative justify-center"},[t._m(0),r("div",{staticClass:"flex h-full absolute top-0 right-2"},[r("h5",{staticClass:"my-auto whitespace-nowrap text-white font-light text-xs cursor-default"},[t._v(" Expires "+t._s(t.GetCurrentHelixSubscriptionStatus.TrialEndDate)+" ")])])])]):t._e(),r("div",{staticClass:"flex w-full h-full overflow-hidden object-contain"},[r("nav",{staticClass:"w-flex pt-3 pb-5 mr-1 h-full flex flex-col justify-between"},[r("section",{staticClass:"flex flex-row"},[r("navigation-button",{attrs:{height:32,width:32}},[r("img",{staticClass:"flex mx-auto w-6",attrs:{src:n("78c9"),alt:"evolvelab logo"},on:{click:function(e){return t.openUrl("https://www.evolvelab.io")}}})]),r("navigation-button",{attrs:{height:32,width:32}},[r("img",{staticClass:"flex mx-auto w-5",attrs:{src:n("ceab"),alt:"discourse forum logo"},on:{click:function(e){return t.openUrl("https://forum.evolvelab.io/tags/c/general/1/license-portal")}}})]),r("navigation-button",{attrs:{height:32,width:32}},[r("span",{staticClass:"m-auto material-icons-outlined text-2xl pointer",on:{click:function(e){t.confirmLogout=!0}}},[t._v(" logout ")])])],1)])]),t.confirmLogout?r("div",{staticClass:"fixed top-0 left-0 right-0 bottom-0 bg-gray-medium bg-opacity-60 z-40",on:{click:function(e){t.confirmLogout=!1}}}):t._e(),t.confirmLogout?r("article",{staticClass:"fixed confirm-position flex-col space-y-3 h-40 w-80 p-7 bg-gray-medium rounded-lg border border-solid border-gray-light z-50 shadow-md"},[r("p",{staticClass:"text-center"},[t._v("Are you sure you want to logout from "),r("span",{staticClass:"underline"},[t._v(t._s(t.GetCurrentUser.Email))]),t._v("?")]),r("div",{staticClass:"flex justify-center space-x-6"},[r("v-btn",{attrs:{color:"var(--color-evolvelab)"},on:{click:t.logout}},[t._v("Yes")]),r("v-btn",{attrs:{color:"var(--color-gray-dark)",outlined:""},on:{click:function(e){t.confirmLogout=!1}}},[t._v("No")])],1)]):t._e()])},l=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex h-full"},[n("h3",{staticClass:"my-auto whitespace-nowrap text-white font-medium text-sm cursor-default"},[t._v("TRIAL VERSION")])])}],c=n("1da1"),d=(n("96cf"),n("2f62"));(function(t){t["HelixMappingTools"]="HelixMappingTools",t["HelixModelingTools"]="HelixModelingTools",t["HelixMaterialMappingTools"]="HelixMaterialMappingTools",t["HelixWarnings"]="HelixWarnings",t["HelixSettings"]="HelixSettings",t["ObjectProperties"]="ObjectProperties",t["AppSettings"]="AppSettings",t["DeveloperToolPanel"]="DeveloperToolPanel"})(r||(r={}));var f=n("d4ec"),p=n("bee2"),g=(n("d3b7"),n("bc3a")),h=n.n(g),b=function(){function t(){Object(f["a"])(this,t)}return Object(p["a"])(t,null,[{key:"PostUserLogin",value:function(t){var e=this;return new Promise((function(n){h.a.post("".concat(e.BaseURI,"/users/login"),t).then((function(t){n(t.data)}))}))}},{key:"GetCheckoutUrl",value:function(){var t=this;return new Promise((function(e){h.a.get("".concat(t.BaseURI,"/users/checkout")).then((function(t){e(t.data)}))}))}}]),t}();b.BaseURI="http://localhost:5000";var v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"flex w-full relative z-10",class:{"text-black bg-gray-medium":t.isSelected,"text-gray-dark":!t.isSelected},style:t.sizeStyle,on:{mouseover:function(e){t.isHovered=!0},mouseleave:function(e){t.isHovered=!1}}},[n("div",{staticClass:"flex h-full w-full items-center z-20"},[t._t("default")],2),t.showBadge?n("div",{staticClass:"absolute top-1 right-1 rounded-full h-2 w-2 z-50",style:{background:t.badgeColor}}):t._e(),n("transition",{attrs:{name:"ripple"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!0===t.isSelected,expression:"isSelected === true"}],staticClass:"bg-evolvelab absolute w-1 h-full top-0 left-0 z-10"})]),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!0===t.isHovered,expression:"isHovered === true"}],staticClass:"bg-gray-medium absolute w-full h-full top-0 left-0 pointer-events-none"})])],1)},x=[],m=(n("a9e3"),o["default"].extend({name:"BaseNavigationButton",props:{buttonLabel:{type:String,required:!1},isSelected:{type:Boolean,required:!1,default:!1},height:{type:Number,required:!1,default:24},width:{type:Number,required:!1,default:24},textColor:{type:String,required:!1,default:""},showBadge:{type:Boolean,required:!1,default:!1},badgeColor:{type:String,required:!1,default:"var(--color-orange-warning)"}},computed:{sizeStyle:function(){return{width:"".concat(this.width,"px"),height:"".concat(this.height,"px")}}},data:function(){return{isHovered:!1}}})),C=m,S=(n("e59f"),n("2877")),w=Object(S["a"])(C,v,x,!1,null,"1c1a100a",null),y=w.exports,O=o["default"].extend({name:"ToolPanel",components:{NavigationButton:y},data:function(){return{ToolPanelState:r,confirmLogout:!1}},computed:Object(s["a"])(Object(s["a"])({},Object(d["d"])(["CurrentToolPanelState","SketchupInstance","ImportStatus","SyncWarnings"])),Object(d["b"])(["GetCurrentHelixSubscriptionStatus","CurrentCompletedMapping","ViewerService","IsExporting","GetCurrentAuthProvider","GetCurrentUser"])),methods:Object(s["a"])(Object(s["a"])({},Object(d["c"])(["MutateToolPanelState","SetDefaultMapMethod","MutateIsExporting","SetCurrentAuthProvider","SetCurrentUser","SetCurrentHelixSubscriptionStatus"])),{},{buy:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.GetCheckoutUrl();case 2:e=t.sent,console.log(e),location.href=e;case 5:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),changeToolPanelState:function(t){console.log("clicked on...",t),this.MutateToolPanelState(t)},openUrl:function(t){window.open(t,"_blank")},logout:function(){this.GetCurrentAuthProvider.signOut(),this.SetCurrentUser(null),this.SetCurrentAuthProvider(null),this.SetCurrentHelixSubscriptionStatus(null)}})}),j=O,_=(n("1072"),n("6544")),k=n.n(_),G=n("8336"),U=Object(S["a"])(j,u,l,!1,null,"4d197b38",null),H=U.exports;k()(U,{VBtn:G["a"]});var L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"firebase-ui-container"}})},P=[],T=(n("99af"),function(){function t(){Object(f["a"])(this,t)}return Object(p["a"])(t,null,[{key:"GetUserStatus",value:function(t,e,n){var r=this,o="prod_MyI91ut0VAcCcl";return new Promise((function(i){h()({method:"get",url:"".concat(r.BaseURI,"/users/").concat(t,"/status/").concat(o),headers:{"Access-Token":e}}).then((function(t){i({Status:t.data.status,TrialEnd:t.data.trial_end,RenderCount:t.data.render_count})})).catch((function(t){console.log(t),n.signOut(),location.reload()}))}))}}]),t}());T.BaseURI="https://evolvelab-licensing.uc.r.appspot.com";var I=n("260b"),E=n("ea7b"),A=(n("256a"),n("1862"),n("2398")),M=(n("c9b9"),o["default"].extend({name:"firebase",data:function(){return{showAlert:!1,alertText:"",ui:null,user:null,firebaseConfig:{apiKey:"AIzaSyCEOJdoj53z_tB48jnBiymY7kTlp8LTd8g",authDomain:"helix-333922.firebaseapp.com",projectId:"helix-333922",storageBucket:"helix-333922.appspot.com",messagingSenderId:"903731217666",appId:"1:903731217666:web:d173c709eeca7717bc2e1b",measurementId:"G-G2921Z96GY"}}},mounted:function(){var t=this;console.log("loading firebase.."),this.$nextTick(Object(c["a"])(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n={callbacks:{signInSuccessWithAuthResult:t.signInSuccessful},signInOptions:[{provider:E["a"].PROVIDER_ID,requireDisplayName:!1}]},!A["a"].AuthUI.getInstance()){e.next=5;break}return t.ui=A["a"].AuthUI.getInstance(),e.next=5,t.ui.delete();case 5:return r=Object(I["a"])(t.firebaseConfig),o=E["c"](r),t.SetCurrentAuthProvider(o),e.next=10,Object(E["d"])(o,E["b"]).then((function(){if(o.currentUser)return console.log("User already signed in.."),void t.signInSuccessful({user:o.currentUser},o);console.log("No user signed in, showing login.."),t.ui=new A["a"].AuthUI(o),t.ui.start("#firebase-ui-container",n)})).catch((function(t){var e=t.code,n=t.message;console.warn(e,n)}));case 10:case"end":return e.stop()}}),e)}))))},methods:Object(s["a"])(Object(s["a"])({},Object(d["c"])(["SetCurrentUser","SetCurrentHelixSubscriptionStatus","SetLoginLoading","SetCurrentAuthProvider"])),{},{signInSuccessful:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.SetLoginLoading(!0),console.log(e),this.user=e.user,this.user){t.next=5;break}return t.abrupt("return");case 5:return r={Email:this.user.email,Token:this.user.accessToken?this.user.accessToken:""},t.t0=this,t.next=9,T.GetUserStatus(r.Email,r.Token,n);case 9:t.t1=t.sent,t.t0.SetCurrentHelixSubscriptionStatus.call(t.t0,t.t1),this.SetCurrentUser(r),this.SetLoginLoading(!1);case 13:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()})})),R=M,B=(n("1c05"),Object(S["a"])(R,L,P,!1,null,null,null)),N=B.exports,D={Logout:"Logout",getEventName:function(t){var e;return null===(e=this[t])||void 0===e?void 0:e.toLowerCase()}},V=document.createElement("a");function z(t,e){var n=D.getEventName(t);void 0!==n&&V.addEventListener(n,e)}function $(t,e){var n=D.getEventName(t);void 0!==n&&V.removeEventListener(n,e)}function q(t){var e,n,r=t.action,o=t.payload;r&&(null===(e=window.chrome)||void 0===e||null===(n=e.webview)||void 0===n||n.postMessage({action:r,payload:o}))}window.dispatchWebViewEvent=function(t){var e=t.action,n=t.payload;console.log("dispatch requested ".concat(e));var r=D.getEventName(e);void 0!==r&&(console.log("dispatching event ".concat(r)),console.log("event payload : ".concat(n)),V.dispatchEvent(new CustomEvent(r,{detail:n})))};var W=o["default"].extend({name:"licensingApp",components:{ToolPanel:H,Firebase:N},computed:Object(s["a"])({},Object(d["b"])(["Viewer3d","GetCurrentHelixSubscriptionStatus","GetIsImporting","GetImportPercentComplete"])),beforeCreate:function(){},created:function(){},mounted:function(){z(D.Logout,this.logout)},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(d["b"])(["GetCurrentUser","GetLoginLoading","GetCurrentAuthProvider"])),Object(d["c"])([])),{},{loginCSharp:function(){this.GetCurrentHelixSubscriptionStatus&&"active"===this.GetCurrentHelixSubscriptionStatus.Status?q({action:"login-success-activated",payload:{User:this.GetCurrentUser(),RenderCount:this.GetCurrentHelixSubscriptionStatus.RenderCount}}):this.GetCurrentHelixSubscriptionStatus&&"trialing"===this.GetCurrentHelixSubscriptionStatus.Status?q({action:"login-success-trial",payload:{User:this.GetCurrentUser(),RenderCount:this.GetCurrentHelixSubscriptionStatus.RenderCount}}):this.GetCurrentHelixSubscriptionStatus&&"expired"===this.GetCurrentHelixSubscriptionStatus.Status&&q({action:"login-success-fail",payload:{User:this.GetCurrentUser(),RenderCount:this.GetCurrentHelixSubscriptionStatus.RenderCount}})},logout:function(){this.GetCurrentAuthProvider().signOut(),location.reload()}}),beforeUpdate:function(){this.loginCSharp()},beforeDestroy:function(){$(D.Logout,this.logout)}}),Y=W,J=(n("ea7f"),n("7496")),F=Object(S["a"])(Y,i,a,!1,null,null,null),K=F.exports;k()(F,{VApp:J["a"]});var Z=n("ce5b"),Q=n.n(Z);o["default"].use(Q.a);var X=new Q.a({});o["default"].use(d["a"]);var tt=new d["a"].Store({state:{LoginLoading:!1,CurrentHelixSubscriptionStatus:null,CurrentUser:null,CurrentAuthProvider:null},getters:{GetCurrentUser:function(t){return t.CurrentUser},GetCurrentHelixSubscriptionStatus:function(t){return t.CurrentHelixSubscriptionStatus},GetLoginLoading:function(t){return t.LoginLoading},IsLoggedIn:function(t){return null!=t.CurrentUser&&""!==t.CurrentUser.Token},GetCurrentAuthProvider:function(t){return t.CurrentAuthProvider}},mutations:{SetCurrentAuthProvider:function(t,e){t.CurrentAuthProvider=e},SetLoginLoading:function(t,e){console.log("Vuex - setting login loading"),t.LoginLoading=e},SetCurrentUser:function(t,e){console.log("Vuex - setting current user"),t.CurrentUser=e},SetCurrentHelixSubscriptionStatus:function(t,e){if(console.log("Vuex - setting helix status",e),null!=e&&e.TrialEnd){var n=new Date(1e3*e.TrialEnd),r=n.getMonth()+1,o=n.getDate(),i=n.getFullYear();e.TrialEndDate="".concat(r,"/").concat(o,"/").concat(i)}t.CurrentHelixSubscriptionStatus=e}},actions:{},modules:{}}),et=n("ed09");n("7417"),n("08ff"),n("a274"),n("9c9e"),n("3db4");o["default"].config.productionTip=!1,o["default"].mixin({methods:{findMainVue:function(){var t=!1,e=this;while(!t)null!=e.$parent?e=e.$parent:t=!0;return e.$children[0]}}}),o["default"].use(et["a"]),new o["default"]({vuetify:X,store:tt,render:function(t){return t(K)}}).$mount("#licensingapp")},ceab:function(t,e,n){t.exports=n.p+"img/discourse-outline-filled-gray.1f3d9c3e.png"},e59f:function(t,e,n){"use strict";n("e5c1")},e5c1:function(t,e,n){},ea7f:function(t,e,n){"use strict";n("1a8e")}});
//# sourceMappingURL=app.19ff5fb7.js.map